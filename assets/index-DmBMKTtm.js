import{r as g,C as Fe,t as ct,v as lt,K as dt,s as K,a6 as xe,q as Ke,x as ft,g as ht,o as Te,w as pt,ax as Ve,aw as Q,ay as ve,y as p,aA as mt,aE as gt,aF as xt,a5 as vt,aG as bt,az as yt,aH as _t,aI as Ct,aJ as wt,aK as $e}from"./index-CXVAN6i7.js";import{D as Ze,E as jt,M as St,a as Et}from"./MenuConext-CkSN_PA4.js";import{C as Ot,a as Ge,A as Rt,L as be,b as Tt,S as $t,F as Nt}from"./index-ZVI5B3R1.js";import{m as Se}from"./Sider-D3n8-3Hl.js";var kt=["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","autoDestroy","popupRender"],Je=function(t){var r=g.useContext(Fe),n=r.getPopupContainer,u=r.getPrefixCls,s=t.prefixCls,c=t.type,h=c===void 0?"default":c,y=t.danger,_=t.disabled,b=t.loading,C=t.onClick,S=t.htmlType,$=t.children,A=t.className,D=t.menu,P=t.arrow,v=t.autoFocus,N=t.trigger,z=t.align,U=t.open,q=t.onOpenChange,W=t.placement,i=t.getPopupContainer,o=t.href,a=t.icon,f=a===void 0?g.createElement(jt,null):a,l=t.title,d=t.buttonsRender,x=d===void 0?function(ut){return ut}:d,m=t.mouseEnterDelay,w=t.mouseLeaveDelay,j=t.autoDestroy,R=t.popupRender,T=ct(t,kt),E=lt(A,"dropdown"),O=u("dropdown",s),L="".concat(O,"-button"),M={menu:D,arrow:P,autoFocus:v,align:z,disabled:_,trigger:_?[]:N,onOpenChange:q,getPopupContainer:i||n,mouseEnterDelay:m,mouseLeaveDelay:w,autoDestroy:j,popupRender:R,className:{overlay:E.overlay}},Z=dt(O),re=Z.compactSize,ne=Z.compactItemClassnames,rt=K(L,ne,E.root);"open"in t&&(M.open=U),"placement"in t?M.placement=W:M.placement="bottomRight";var nt=g.createElement(xe,{type:h,danger:y,disabled:_,loading:b,onClick:C,htmlType:S,href:o,title:l,className:E.button},$),at=g.createElement(xe,{type:h,danger:y,icon:f,className:E.button}),ot=x([nt,at]),Re=Ke(ot,2),st=Re[0],it=Re[1];return g.createElement(Ot.Compact,ft({className:rt,size:re,block:!0},T),st,g.createElement(Ze,M,it))};Je.__METIS_BUTTON=!0;var Ee=Ze;Ee.Button=Je;var ae,Ne;function At(){if(Ne)return ae;Ne=1;function e(t,r,n,u){var s=-1,c=t==null?0:t.length;for(u&&c&&(n=t[++s]);++s<c;)n=r(n,t[s],s,t);return n}return ae=e,ae}var oe,ke;function Dt(){if(ke)return oe;ke=1;function e(t){return function(r){return t==null?void 0:t[r]}}return oe=e,oe}var se,Ae;function Pt(){if(Ae)return se;Ae=1;var e=Dt(),t={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},r=e(t);return se=r,se}var ie,De;function Mt(){if(De)return ie;De=1;var e=Pt(),t=Ge(),r=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,n="\\u0300-\\u036f",u="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",c=n+u+s,h="["+c+"]",y=RegExp(h,"g");function _(b){return b=t(b),b&&b.replace(r,e).replace(y,"")}return ie=_,ie}var ue,Pe;function Lt(){if(Pe)return ue;Pe=1;var e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function t(r){return r.match(e)||[]}return ue=t,ue}var ce,Me;function It(){if(Me)return ce;Me=1;var e=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function t(r){return e.test(r)}return ce=t,ce}var le,Le;function zt(){if(Le)return le;Le=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",u=t+r+n,s="\\u2700-\\u27bf",c="a-z\\xdf-\\xf6\\xf8-\\xff",h="\\xac\\xb1\\xd7\\xf7",y="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",_="\\u2000-\\u206f",b=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",C="A-Z\\xc0-\\xd6\\xd8-\\xde",S="\\ufe0e\\ufe0f",$=h+y+_+b,A="['’]",D="["+$+"]",P="["+u+"]",v="\\d+",N="["+s+"]",z="["+c+"]",U="[^"+e+$+v+s+c+C+"]",q="\\ud83c[\\udffb-\\udfff]",W="(?:"+P+"|"+q+")",i="[^"+e+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",f="["+C+"]",l="\\u200d",d="(?:"+z+"|"+U+")",x="(?:"+f+"|"+U+")",m="(?:"+A+"(?:d|ll|m|re|s|t|ve))?",w="(?:"+A+"(?:D|LL|M|RE|S|T|VE))?",j=W+"?",R="["+S+"]?",T="(?:"+l+"(?:"+[i,o,a].join("|")+")"+R+j+")*",E="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",O="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",L=R+j+T,M="(?:"+[N,o,a].join("|")+")"+L,Z=RegExp([f+"?"+z+"+"+m+"(?="+[D,f,"$"].join("|")+")",x+"+"+w+"(?="+[D,f+d,"$"].join("|")+")",f+"?"+d+"+"+m,f+"+"+w,O,E,v,M].join("|"),"g");function re(ne){return ne.match(Z)||[]}return le=re,le}var de,Ie;function Ut(){if(Ie)return de;Ie=1;var e=Lt(),t=It(),r=Ge(),n=zt();function u(s,c,h){return s=r(s),c=h?void 0:c,c===void 0?t(s)?n(s):e(s):s.match(c)||[]}return de=u,de}var fe,ze;function Ht(){if(ze)return fe;ze=1;var e=At(),t=Mt(),r=Ut(),n="['’]",u=RegExp(n,"g");function s(c){return function(h){return e(r(t(h).replace(u,"")),c,"")}}return fe=s,fe}var he,Ue;function Bt(){if(Ue)return he;Ue=1;var e=Ht(),t=e(function(r,n,u){return r+(u?"-":"")+n.toLowerCase()});return he=t,he}var qt=Bt();const Wt=ht(qt);var Ft=["primary","primaryActive","primaryBg","primaryBgHover","primaryHover","primaryBorder","primaryBorderSecondary","error","errorActive","errorBg","errorBgHover","errorHover","errorBorder","errorBorderSecondary","success","successActive","successBg","successBgHover","successHover","successBorder","successBorderSecondary","warning","warningActive","warningBg","warningBgHover","warningHover","warningBorder","warningBorderSecondary","container","elevated","mask","spotlight","border","borderSecondary","fill","fillQuaternary","fillSecondary","fillTertiary","text","textQuaternary","textSecondary","textTertiary"],pe=function(t){var r=getComputedStyle(t??document.documentElement),n=r.getPropertyValue("color-scheme").trim();return Ft.reduce(function(u,s){var c=r.getPropertyValue("--".concat(Wt(s))).trim();return Te(Te({},u),{},pt({},s,c))},{isDark:n==="dark"})};function Kt(){var e=g.useContext(Fe),t=e.theme,r=e.themeTarget,n=g.useState(function(){return pe(r==null?void 0:r.current)}),u=Ke(n,2),s=u[0],c=u[1];return g.useEffect(function(){setTimeout(function(){c(pe(r==null?void 0:r.current))},0);var h=window.matchMedia("(prefers-color-scheme: dark)"),y=function(){c(pe(r==null?void 0:r.current))};return t==="system"&&h.addEventListener("change",y),function(){h.removeEventListener("change",y)}},[t]),s}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ye.apply(this,arguments)}var Vt=g.forwardRef(function(e,t){return g.createElement("svg",ye({ref:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",width:"1em",height:"1em"},e,{className:"metis-icon".concat(e.className?" ".concat(e.className):"")}),g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))});function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_e.apply(this,arguments)}var Zt=g.forwardRef(function(e,t){return g.createElement("svg",_e({ref:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",width:"1em",height:"1em"},e,{className:"metis-icon".concat(e.className?" ".concat(e.className):"")}),g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.636 5.636a9 9 0 1 0 12.728 0M12 3v9"}))});function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ce.apply(this,arguments)}var Gt=g.forwardRef(function(e,t){return g.createElement("svg",Ce({ref:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,"aria-hidden":"true","data-slot":"icon",viewBox:"0 0 24 24",width:"1em",height:"1em"},e,{className:"metis-icon".concat(e.className?" ".concat(e.className):"")}),g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0"}))});function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},we.apply(this,arguments)}var Jt=g.forwardRef(function(e,t){return g.createElement("svg",we({ref:t,xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24"},e,{className:"metis-icon".concat(e.className?" ".concat(e.className):"")}),g.createElement("path",{stroke:"currentColor",strokeLinejoin:"round",strokeWidth:1.5,d:"M8.188 7.773a8.79 8.79 0 0 0 12.202 8.102A8.791 8.791 0 0 1 3.5 12.46 8.79 8.79 0 0 1 8.875 4.36a8.8 8.8 0 0 0-.687 3.414Z"}),g.createElement("path",{fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m15.05 3.68.169-1.18.168 1.18c.074.516.48.922.995.995l1.18.169-1.18.169c-.516.073-.92.478-.995.994l-.168 1.18-.169-1.18a1.17 1.17 0 0 0-.994-.994l-1.181-.17 1.18-.168c.516-.073.921-.479.995-.994M19.738 9.54l.168-1.18.169 1.18c.074.516.479.921.994.995l1.181.169-1.18.168c-.516.074-.921.48-.995.995l-.169 1.18-.168-1.18a1.17 1.17 0 0 0-.995-.995l-1.18-.168 1.18-.17c.516-.073.92-.478.995-.994"}))});function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},je.apply(this,arguments)}var Yt=g.forwardRef(function(e,t){return g.createElement("svg",je({ref:t,xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24"},e,{className:"metis-icon".concat(e.className?" ".concat(e.className):"")}),g.createElement("path",{fill:"currentColor",d:"M8.202 4.8c-.542.005-.985.015-1.364.046-.463.037-.791.101-1.051.194l-.24.103a3.2 3.2 0 0 0-1.277 1.18l-.123.22c-.15.296-.247.673-.297 1.29-.052.628-.052 1.43-.052 2.563v3.196c0 1.133 0 1.935.052 2.562.05.618.146.995.297 1.292l.123.22c.308.502.75.91 1.276 1.179l.24.103c.26.093.589.157 1.052.194.379.032.822.041 1.363.046zm13.596 8.793c0 1.106 0 1.984-.057 2.691-.052.627-.151 1.173-.366 1.674l-.1.212a4.8 4.8 0 0 1-1.767 1.912l-.33.185c-.56.285-1.17.407-1.886.466-.707.058-1.585.057-2.692.057H9.4c-1.107 0-1.985 0-2.692-.057-.627-.052-1.172-.152-1.674-.367l-.212-.099A4.8 4.8 0 0 1 2.91 18.5l-.185-.33c-.285-.559-.407-1.17-.466-1.886-.057-.707-.057-1.585-.057-2.691v-3.197c0-1.107 0-1.985.057-2.692.059-.716.181-1.327.466-1.886l.185-.33A4.8 4.8 0 0 1 4.822 3.72l.212-.1c.501-.215 1.047-.314 1.674-.366.707-.057 1.585-.057 2.692-.057h5.2c1.107 0 1.985 0 2.692.057.716.059 1.327.181 1.886.466l.33.185a4.8 4.8 0 0 1 1.767 1.912l.1.212c.215.501.314 1.047.366 1.674.057.707.057 1.585.057 2.692zM9.797 19.194H14.6c1.133 0 1.935 0 2.562-.052.618-.05.995-.146 1.291-.297l.22-.123c.503-.308.911-.75 1.18-1.276l.103-.24c.093-.26.157-.589.194-1.052.052-.627.052-1.429.052-2.562v-3.196c0-1.133 0-1.935-.052-2.562-.037-.463-.101-.791-.194-1.051l-.103-.24a3.2 3.2 0 0 0-1.18-1.277l-.22-.123c-.296-.15-.673-.247-1.29-.297-.628-.052-1.43-.052-2.563-.052H9.797l.001.006z"}))}),Qt=typeof global=="object"&&global&&global.Object===Object&&global,Xt=typeof self=="object"&&self&&self.Object===Object&&self,X=Qt||Xt||Function("return this")(),G=X.Symbol,Ye=Object.prototype,er=Ye.hasOwnProperty,tr=Ye.toString,F=G?G.toStringTag:void 0;function rr(e){var t=er.call(e,F),r=e[F];try{e[F]=void 0;var n=!0}catch{}var u=tr.call(e);return n&&(t?e[F]=r:delete e[F]),u}var nr=Object.prototype,ar=nr.toString;function or(e){return ar.call(e)}var sr="[object Null]",ir="[object Undefined]",He=G?G.toStringTag:void 0;function ur(e){return e==null?e===void 0?ir:sr:He&&He in Object(e)?rr(e):or(e)}function Qe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var cr="[object AsyncFunction]",lr="[object Function]",dr="[object GeneratorFunction]",fr="[object Proxy]";function hr(e){if(!Qe(e))return!1;var t=ur(e);return t==lr||t==dr||t==cr||t==fr}var me=X["__core-js_shared__"],Be=function(){var e=/[^.]+$/.exec(me&&me.keys&&me.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function pr(e){return!!Be&&Be in e}var mr=Function.prototype,gr=mr.toString;function xr(e){if(e!=null){try{return gr.call(e)}catch{}try{return e+""}catch{}}return""}var vr=/[\\^$.*+?()[\]{}|]/g,br=/^\[object .+?Constructor\]$/,yr=Function.prototype,_r=Object.prototype,Cr=yr.toString,wr=_r.hasOwnProperty,jr=RegExp("^"+Cr.call(wr).replace(vr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Sr(e){if(!Qe(e)||pr(e))return!1;var t=hr(e)?jr:br;return t.test(xr(e))}function Er(e,t){return e==null?void 0:e[t]}function Oe(e,t){var r=Er(e,t);return Sr(r)?r:void 0}function Or(){}function Rr(e,t,r,n){for(var u=e.length,s=r+-1;++s<u;)if(t(e[s],s,e))return s;return-1}function Tr(e){return e!==e}function $r(e,t,r){for(var n=r-1,u=e.length;++n<u;)if(e[n]===t)return n;return-1}function Nr(e,t,r){return t===t?$r(e,t,r):Rr(e,Tr,r)}function kr(e,t){var r=e==null?0:e.length;return!!r&&Nr(e,t,0)>-1}function Ar(e,t){return e===t||e!==e&&t!==t}var V=Oe(Object,"create");function Dr(){this.__data__=V?V(null):{},this.size=0}function Pr(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Mr="__lodash_hash_undefined__",Lr=Object.prototype,Ir=Lr.hasOwnProperty;function zr(e){var t=this.__data__;if(V){var r=t[e];return r===Mr?void 0:r}return Ir.call(t,e)?t[e]:void 0}var Ur=Object.prototype,Hr=Ur.hasOwnProperty;function Br(e){var t=this.__data__;return V?t[e]!==void 0:Hr.call(t,e)}var qr="__lodash_hash_undefined__";function Wr(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=V&&t===void 0?qr:t,this}function I(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}I.prototype.clear=Dr;I.prototype.delete=Pr;I.prototype.get=zr;I.prototype.has=Br;I.prototype.set=Wr;function Fr(){this.__data__=[],this.size=0}function ee(e,t){for(var r=e.length;r--;)if(Ar(e[r][0],t))return r;return-1}var Kr=Array.prototype,Vr=Kr.splice;function Zr(e){var t=this.__data__,r=ee(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Vr.call(t,r,1),--this.size,!0}function Gr(e){var t=this.__data__,r=ee(t,e);return r<0?void 0:t[r][1]}function Jr(e){return ee(this.__data__,e)>-1}function Yr(e,t){var r=this.__data__,n=ee(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function H(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}H.prototype.clear=Fr;H.prototype.delete=Zr;H.prototype.get=Gr;H.prototype.has=Jr;H.prototype.set=Yr;var Qr=Oe(X,"Map");function Xr(){this.size=0,this.__data__={hash:new I,map:new(Qr||H),string:new I}}function en(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function te(e,t){var r=e.__data__;return en(t)?r[typeof t=="string"?"string":"hash"]:r.map}function tn(e){var t=te(this,e).delete(e);return this.size-=t?1:0,t}function rn(e){return te(this,e).get(e)}function nn(e){return te(this,e).has(e)}function an(e,t){var r=te(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function B(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}B.prototype.clear=Xr;B.prototype.delete=tn;B.prototype.get=rn;B.prototype.has=nn;B.prototype.set=an;var ge=Oe(X,"Set"),on="__lodash_hash_undefined__";function sn(e){return this.__data__.set(e,on),this}function un(e){return this.__data__.has(e)}function J(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new B;++t<r;)this.add(e[t])}J.prototype.add=J.prototype.push=sn;J.prototype.has=un;function cn(e,t){return e.has(t)}function Xe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var ln=1/0,dn=ge&&1/Xe(new ge([,-0]))[1]==ln?function(e){return new ge(e)}:Or,fn=200;function hn(e,t,r){var n=-1,u=kr,s=e.length,c=!0,h=[],y=h;if(s>=fn){var _=dn(e);if(_)return Xe(_);c=!1,u=cn,y=new J}else y=h;e:for(;++n<s;){var b=e[n],C=b;if(b=b!==0?b:0,c&&C===C){for(var S=y.length;S--;)if(y[S]===C)continue e;h.push(b)}else u(y,C,r)||(y!==h&&y.push(C),h.push(b))}return h}function pn(e){return e&&e.length?hn(e):[]}const mn=()=>{const e=Ve(),{t}=Q(),r=ve(c=>c.currentUser),n=ve(c=>c.clearCurrentUser),u=async c=>{const{key:h}=c;h==="logout"?(await xt(),vt.flushSync(()=>{n(),e(bt)})):e(`/account/${h}`)},s=[{key:"center",icon:p.jsx(mt,{}),label:t("navbar.account.center")},{key:"settings",icon:p.jsx(gt,{}),label:t("navbar.account.settings")},{type:"divider"},{key:"logout",icon:p.jsx(Zt,{}),label:t("navbar.logout")}];return p.jsx(Ee,{menu:{selectedKeys:[],onClick:u,items:s},placement:"bottomLeft",children:p.jsxs("div",{className:"flex cursor-pointer items-center gap-2 font-medium",children:[p.jsx(Rt,{size:32,src:r==null?void 0:r.avatar}),p.jsx("span",{children:r.name})]})})},gn=({className:e})=>{const{t,i18n:r}=Q(),n=r.language==="zh-CN",u=g.useCallback(()=>{r.changeLanguage(n?"en-US":"zh-CN")},[r,n]);return p.jsx(Se,{title:t("lang.tips.switch"),children:p.jsxs("button",{className:K("group relative size-6",e),onClick:u,children:[p.jsx("span",{className:K("border-border-secondary absolute flex size-5 items-center justify-center rounded-[1px] text-base",{"group-hover:bg-text top-1 z-1 origin-[0_0] scale-70 bg-black/60 text-white dark:bg-gray-400 dark:text-gray-950":n,"group-hover:border-text bottom-0.5 z-0 origin-[100%_100%] scale-55 border border-black/60 dark:border-gray-400":!n}),children:"中"}),p.jsx("span",{className:K("border-border-secondary absolute flex size-5 items-center justify-center rounded-[1px] text-base",{"group-hover:bg-text top-1 z-1 origin-[0_0] scale-70 bg-black/60 text-white dark:bg-gray-400 dark:text-gray-950":!n,"group-hover:border-text bottom-0.5 z-0 origin-[100%_100%] scale-55 border border-black/60 dark:border-gray-400":n}),children:"En"})]},"lang-button")})},xn=()=>{const{t:e}=Q(),[t,r]=yt("theme",{defaultValue:"system"}),n=({key:c})=>{r(c)},u=[{name:"light",icon:p.jsx(Gt,{}),label:e("theme.light")},{name:"dark",icon:p.jsx(Jt,{}),label:e("theme.dark")},{name:"system",icon:p.jsx(Vt,{}),label:e("theme.system")}],s=u.find(c=>c.name===(t??"system"));return p.jsx(Ee,{trigger:["click"],menu:{items:u.map(c=>({key:c.name,label:c.label,icon:c.icon})),selectable:!0,selectedKeys:[s.name],onClick:n,className:{item:{icon:"-ms-1 size-5"}}},children:p.jsx(Se,{title:e("theme.tips.switch"),children:p.jsx("button",{className:"text-text flex items-center *:size-5.5",children:s==null?void 0:s.icon})})})};var k={},qe;function vn(){if(qe)return k;qe=1,Object.defineProperty(k,"__esModule",{value:!0}),k.TokenData=void 0,k.parse=C,k.compile=S,k.match=D,k.pathToRegexp=P,k.stringify=U;const e="/",t=i=>i,r=/^[$_\p{ID_Start}]$/u,n=/^[$\u200c\u200d\p{ID_Continue}]$/u,u="https://git.new/pathToRegexpError",s={"{":"{","}":"}","(":"(",")":")","[":"[","]":"]","+":"+","?":"?","!":"!"};function c(i){return i.replace(/[{}()\[\]+?!:*]/g,"\\$&")}function h(i){return i.replace(/[.+*?^${}()[\]|/\\]/g,"\\$&")}function*y(i){const o=[...i];let a=0;function f(){let l="";if(r.test(o[++a]))for(l+=o[a];n.test(o[++a]);)l+=o[a];else if(o[a]==='"'){let d=a;for(;a<o.length;){if(o[++a]==='"'){a++,d=0;break}o[a]==="\\"?l+=o[++a]:l+=o[a]}if(d)throw new TypeError(`Unterminated quote at ${d}: ${u}`)}if(!l)throw new TypeError(`Missing parameter name at ${a}: ${u}`);return l}for(;a<o.length;){const l=o[a],d=s[l];if(d)yield{type:d,index:a++,value:l};else if(l==="\\")yield{type:"ESCAPED",index:a++,value:o[a++]};else if(l===":"){const x=f();yield{type:"PARAM",index:a,value:x}}else if(l==="*"){const x=f();yield{type:"WILDCARD",index:a,value:x}}else yield{type:"CHAR",index:a,value:o[a++]}}return{type:"END",index:a,value:""}}class _{constructor(o){this.tokens=o}peek(){if(!this._peek){const o=this.tokens.next();this._peek=o.value}return this._peek}tryConsume(o){const a=this.peek();if(a.type===o)return this._peek=void 0,a.value}consume(o){const a=this.tryConsume(o);if(a!==void 0)return a;const{type:f,index:l}=this.peek();throw new TypeError(`Unexpected ${f} at ${l}, expected ${o}: ${u}`)}text(){let o="",a;for(;a=this.tryConsume("CHAR")||this.tryConsume("ESCAPED");)o+=a;return o}}class b{constructor(o){this.tokens=o}}k.TokenData=b;function C(i,o={}){const{encodePath:a=t}=o,f=new _(y(i));function l(x){const m=[];for(;;){const w=f.text();w&&m.push({type:"text",value:a(w)});const j=f.tryConsume("PARAM");if(j){m.push({type:"param",name:j});continue}const R=f.tryConsume("WILDCARD");if(R){m.push({type:"wildcard",name:R});continue}if(f.tryConsume("{")){m.push({type:"group",tokens:l("}")});continue}return f.consume(x),m}}const d=l("END");return new b(d)}function S(i,o={}){const{encode:a=encodeURIComponent,delimiter:f=e}=o,l=i instanceof b?i:C(i,o),d=$(l.tokens,f,a);return function(m={}){const[w,...j]=d(m);if(j.length)throw new TypeError(`Missing parameters: ${j.join(", ")}`);return w}}function $(i,o,a){const f=i.map(l=>A(l,o,a));return l=>{const d=[""];for(const x of f){const[m,...w]=x(l);d[0]+=m,d.push(...w)}return d}}function A(i,o,a){if(i.type==="text")return()=>[i.value];if(i.type==="group"){const l=$(i.tokens,o,a);return d=>{const[x,...m]=l(d);return m.length?[""]:[x]}}const f=a||t;return i.type==="wildcard"&&a!==!1?l=>{const d=l[i.name];if(d==null)return["",i.name];if(!Array.isArray(d)||d.length===0)throw new TypeError(`Expected "${i.name}" to be a non-empty array`);return[d.map((x,m)=>{if(typeof x!="string")throw new TypeError(`Expected "${i.name}/${m}" to be a string`);return f(x)}).join(o)]}:l=>{const d=l[i.name];if(d==null)return["",i.name];if(typeof d!="string")throw new TypeError(`Expected "${i.name}" to be a string`);return[f(d)]}}function D(i,o={}){const{decode:a=decodeURIComponent,delimiter:f=e}=o,{regexp:l,keys:d}=P(i,o),x=d.map(m=>a===!1?t:m.type==="param"?a:w=>w.split(f).map(a));return function(w){const j=l.exec(w);if(!j)return!1;const R=j[0],T=Object.create(null);for(let E=1;E<j.length;E++){if(j[E]===void 0)continue;const O=d[E-1],L=x[E-1];T[O.name]=L(j[E])}return{path:R,params:T}}}function P(i,o={}){const{delimiter:a=e,end:f=!0,sensitive:l=!1,trailing:d=!0}=o,x=[],m=[],w=l?"":"i",R=(Array.isArray(i)?i:[i]).map(O=>O instanceof b?O:C(O,o));for(const{tokens:O}of R)for(const L of v(O,0,[])){const M=N(L,a,x);m.push(M)}let T=`^(?:${m.join("|")})`;return d&&(T+=`(?:${h(a)}$)?`),T+=f?"$":`(?=${h(a)}|$)`,{regexp:new RegExp(T,w),keys:x}}function*v(i,o,a){if(o===i.length)return yield a;const f=i[o];if(f.type==="group"){const l=a.slice();for(const d of v(f.tokens,0,l))yield*v(i,o+1,d)}else a.push(f);yield*v(i,o+1,a)}function N(i,o,a){let f="",l="",d=!0;for(let x=0;x<i.length;x++){const m=i[x];if(m.type==="text"){f+=h(m.value),l+=m.value,d||(d=m.value.includes(o));continue}if(m.type==="param"||m.type==="wildcard"){if(!d&&!l)throw new TypeError(`Missing text after "${m.name}": ${u}`);m.type==="param"?f+=`(${z(o,d?"":l)}+)`:f+="([\\s\\S]+)",a.push(m),l="",d=!1;continue}}return f}function z(i,o){return o.length<2?i.length<2?`[^${h(i+o)}]`:`(?:(?!${h(i)})[^${h(o)}])`:i.length<2?`(?:(?!${h(o)})[^${h(i)}])`:`(?:(?!${h(o)}|${h(i)})[\\s\\S])`}function U(i){return i.tokens.map(function o(a,f,l){if(a.type==="text")return c(a.value);if(a.type==="group")return`{${a.tokens.map(o).join("")}}`;const x=q(a.name)&&W(l[f+1])?a.name:JSON.stringify(a.name);if(a.type==="param")return`:${x}`;if(a.type==="wildcard")return`*${x}`;throw new TypeError(`Unexpected token: ${a}`)}).join("")}function q(i){const[o,...a]=i;return r.test(o)?a.every(f=>n.test(f)):!1}function W(i){return(i==null?void 0:i.type)!=="text"?!0:!n.test(i.value[0])}return k}var bn=vn();function yn(e="/",t="/"){return(e||t).startsWith("/")?e:`/${t}/${e}`.replace(/\/\//g,"/").replace(/\/\//g,"/")}function et(e){return e.split("?")[0].split("#")[0]}function Y({data:e,t,userPerms:r},n="/",u=!1){return e.filter(s=>!(!u&&s.hideInMenu||s.permission&&!_t(s.permission,r))).flatMap(s=>{const c=yn(s.path,n);if(!s.name)return s.children?Y({data:s.children,t,userPerms:r},c,u):[];let h;if(s.children){const _=Y({data:s.children,t,userPerms:r},c,u);_.length>0&&(h=_)}return[{key:c,label:t(s.name),icon:s.icon,...h?{children:h}:{}}]})}const tt=(e=[])=>{let t={};return e.forEach(r=>{const n={...r};if(!n||!n.key)return;const u=n.children||[];t[et(n.key)]={...n},t[n.key]={...n},u&&(t={...t,...tt(u)})}),t},_n=(e=[],t)=>e.filter(r=>{if(r==="/"&&t==="/")return!0;if(r!=="/"&&r!=="/*"&&r){const n=et(r);return bn.match(n,{end:!1})(t)}return!1}).sort((r,n)=>r===t?10:n===t?-10:r.slice(1).split("/").length-n.slice(1).split("/").length),Cn=(e,t)=>{const r=Y(t,"/",!0),n=tt(r),u=Object.keys(n),s=_n(u,e);return!s||s.length<1?[]:s.map(c=>n[c]).flat(1)},{Header:wn,Content:We,Sider:jn}=be,Tn=()=>{const e=Ve(),{t}=Q(),{pathname:r}=Ct(),n=ve(v=>{var N;return((N=v.currentUser)==null?void 0:N.permissions)||[]}),{isDark:u}=Kt(),[s,c]=g.useState(!1),[h,y]=g.useState(),[_,b]=g.useState([]),C=g.useMemo(()=>Y({data:$e,t,userPerms:n}),[n,t]),S=g.useMemo(()=>Cn(r,{data:$e,t,userPerms:n}),[r,t,n]);g.useEffect(()=>{y(S.map(v=>v.key)),b(v=>pn([...v,...S.map(N=>N.key)]))},[S]);const $=g.useMemo(()=>S.map(v=>({key:v.key,title:v.label})),[S]),A=g.useMemo(()=>({menus:C,matchedMenus:S,breadcrumbs:$}),[C,S,$]),D=({key:v})=>{e(`${v}`)},P=()=>{c(!s)};return p.jsx(St.Provider,{value:A,children:p.jsxs(be,{className:"h-screen",children:[p.jsxs(wn,{className:"flex h-14 justify-between border-b border-gray-950/5 px-5 dark:border-white/10",children:[p.jsxs("div",{className:"flex items-center gap-2 text-xl font-medium",children:[p.jsx(Tt,{className:"size-8"}),p.jsx("span",{children:"Metis Plus"})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(gn,{}),p.jsx(xn,{}),p.jsx(mn,{})]})]}),p.jsx(We,{children:p.jsxs(be,{className:"h-full",children:[p.jsxs(jn,{width:288,collapsed:s,className:"border-r border-gray-950/5 bg-transparent dark:border-white/10",children:[p.jsx(Et,{theme:u?"dark":"light",mode:"inline",selectedKeys:h,openKeys:_,items:C,onClick:D,onOpenChange:v=>b(v),className:{root:"bg-transparent",sub:{inner:"dark:hover:bg-gray-900"},item:({selected:v})=>({inner:K("dark:hover:bg-gray-900",v&&"dark:bg-gray-900")})}}),p.jsx(Se,{title:t(s?"sidebar.tips.expand":"sidebar.tips.collapse"),children:p.jsx(xe,{type:"text",icon:p.jsx(Yt,{className:"size-5"}),size:"small",onClick:P,className:"text-text-tertiary absolute right-5 bottom-4"})})]}),p.jsx(We,{className:"bg-gray-50 dark:bg-transparent",children:p.jsxs($t,{children:[p.jsx("div",{className:"min-h-[calc(100%-3rem)] p-6",children:p.jsx(wt,{})}),p.jsx(Nt,{})]})})]})})]})})};export{Tn as default};
